<!-- Include header.ejs -->
<%- include('templates/header.ejs') %>

    <div class="container mt-5">
        <h1 class="text-center mb-4">Notifications</h1>
        <% notifications.forEach(notification=> { %>
            <li>
                <%= notification.message %>
                    <form action="/acceptRequest" method="post">
                        <input type="hidden" name="notificationId" value="<%= notification._id %>">
                        <button type="submit">Accept</button>
                    </form>
                    <form action="/denyRequest" method="post">
                        <input type="hidden" name="notificationId" value="<%= notification._id %>">
                        <button type="submit">Deny</button>
                    </form>
            </li>
            <% }) %>

                <div id="pagination">
                    <% console.log("Pagination Current Page: " + currentPage) %>
    <% console.log(" StartPage: " + startPage) %>
    <% console.log(" EndPage: " + endPage) %>
    <% if (currentPage > 1) { %>
        <button class=" btn btn-primary page ml-1" id="prevButton">PREVIOUS</button>
                        <% } %>
                            <% for (let i=startPage; i <=endPage; i++) { %>
                                <% if (i==currentPage) { %>
                                    <button class="btn btn-success page ml-1 numberedButtons" value="<%= i %>">
                                        <%= i %>
                                    </button>
                                    <% } else { %>
                                        <button class="btn btn-primary page ml-1 numberedButtons" value="<%= i %>">
                                            <%= i %>
                                        </button>
                                        <% } %>
                                            <% } %>
                                                <% if (currentPage < totalPages) { %>
                                                    <button class="btn btn-primary page ml-1"
                                                        id="nextButton">NEXT</button>
                                                    <% } %>
                </div>

<script src="notificationPagination.js"></script>
<!-- Include footer.ejs -->
<%- include ("templates/footer_after_login") %>