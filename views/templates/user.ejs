<li class="d-flex list-group-item justify-content-between align-items-center">
    <% user.image %>
    <% var sum = 0; %>
    <% var countRates = 0; %>
    <% user.rate.forEach(rating => { %>
      <% sum += parseFloat(rating.rating); %>
      <% countRates++; %>
    <% }); %>
    <% var avg = (countRates > 0) ? (sum / countRates) : 0; %>
    <div class="d-flex flex-column justify-content-between">
        <p class="name d-flex list-group justify-content-center mx-2 my-1 fw-bold" ><%= user.name %></p>
        <p class="d-flex flex-row list-group my-1" >
            <span></span>
            <% user.skills.forEach(skill => { %>
                <% if(skill != 'NaN') { %>
                    <span class="mx-1 eachSkill rounded badge"><%= skill %></span>
                <% } %>
            <% }); %>
        </p>
    </div>
    <div class="ms-auto d-flex align-middle">
        <p class="d-flex flex-row list-group justify-content-center align-items-center mx-2 rounded border" ><span id="averageRatingSpan" class="mx-2">Average rate: </span><span class="me-2"><%= avg.toFixed(2) %>/5 (by <%= user.rate.length %>)</span></p>
        <form action="/requestSent" method="post">
            <input type="hidden" name="recipientEmail" value="<%= user.email %>">
            <button class="btn btn-success requestBTN">Match</button>
        </form>
    </div>
</li>
